<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>E-commerce Customer Behavior Analysis</title>
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    /* Add smooth scrolling */
    html {
      scroll-behavior: smooth;
    }
    
    .visualization-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .visualization-item {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      width: 100%;
    }

    .visualization-item iframe {
      flex: 2;
      height: 400px;
      border: none;
    }

    .insight {
      flex: 1;
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 2px solid #ccc;
    }
  </style>
</head>

<body>
  <div class="navbar">
    <a href="javascript:void(0);" onclick="showSection('about')">About</a>
    <a href="javascript:void(0);" onclick="showSection('visualization')">Visualization</a>
    <a href="javascript:void(0);" onclick="showSection('predict')">Prediction</a>
  </div>

  <div class="content">
    <div id="about" class="about active">
      <h1>About the Project</h1>
      <p>
        E-commerce platforms thrive by understanding and predicting customer behavior. This project leverages machine learning to classify and analyze customer behavior, aiming to enhance customer satisfaction and business profitability. By examining patterns in data such as purchase history, browsing habits, and demographic information, the model predicts customer lifetime value (CLV), churn rates, and preferred payment methods. This analysis aids businesses in tailoring marketing strategies, improving customer retention, and optimizing user experiences. Ultimately, this integration of machine learning offers a data-driven approach to better understand and meet the evolving needs of e-commerce customers.
      </p>
      <h2>Key Features</h2>
      <ul>
        <li><strong>Customer Lifetime Value (CLV) Prediction:</strong> Predicts the future value generated by a customer, helping businesses prioritize high-value customers for targeted marketing and personalized offers.</li>
        <li><strong>Churn Prediction:</strong> Identifies customers at risk of leaving, allowing for proactive retention strategies to reduce churn rates and maintain a loyal customer base.</li>
        <li><strong>Preferred Payment Method Analysis:</strong> Analyzes customer payment preferences, enabling businesses to streamline checkout processes and offer preferred payment options to enhance user experience.</li>
        <li><strong>Customer Segmentation:</strong> Classifies customers into distinct segments based on behavior and demographics, facilitating targeted marketing campaigns and personalized services.</li>
        <li><strong>Purchase and Browsing Pattern Analysis:</strong> Examines historical purchase and browsing data to identify trends, preferences, and potential areas for product recommendations or improvements.</li>
        <li><strong>Customer Satisfaction and Feedback Analysis:</strong> Analyzes satisfaction scores and complaints to identify areas for improvement in products and services, enhancing overall customer satisfaction and loyalty.</li>
      </ul>
      <h2>Technologies Used</h2>
      <ul>
        <li>Python for data analysis and machine learning.</li>
        <li>Flask for creating the web application.</li>
        <li>HTML, CSS, and JavaScript for the frontend.</li>
        <li>Pandas and Scikit-learn for data manipulation and modeling.</li>
        <li>Matplotlib and Seaborn for data visualization.</li>
      </ul>
    </div>

    <div id="visualization" class="visualization">
      <h1>Data Visualizations</h1>
      <p>Here we present various data visualizations that provide insights into customer behavior, purchase patterns, and other key metrics.</p>
      <h2>Visualizations</h2>
      <div class="visualization-container">
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/gender_distribution.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>The gender distribution shows a balanced representation of male and female customers, which indicates a diverse customer base.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/purchase_amount_gender.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Male customers tend to spend slightly more on average compared to female customers, suggesting targeted marketing strategies for high-value male customers.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/price_spent_gender_year.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>The spending trend over the years shows a consistent increase for both genders, highlighting growth in overall customer spending.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/churn_returns_gender.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Churn rates and returns are slightly higher among female customers, indicating a need for better retention strategies and return policies.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/age_distribution.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>The age distribution shows a significant portion of customers in the 25-34 age group, suggesting targeted marketing for this age range.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/age_distribution_gender.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Both male and female customers have a similar age distribution, indicating that age-based marketing strategies can be applied uniformly across genders.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/age_distribution_by_segment.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>The age distribution by segment reveals that high-value segments consist mostly of customers aged 25-34, guiding targeted campaigns.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/average_monthly_sales_revenue.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>The average monthly sales revenue shows an upward trend, indicating growing customer engagement and increasing sales.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/customer_segment_distribution.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Customer segment distribution highlights a diverse range of customer segments, allowing for tailored marketing and service strategies.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/customer_churn_and_returns_by_segment.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Churn and return rates by segment indicate which segments require more attention for retention efforts and policy adjustments.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/monthly_orders_per_year.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Monthly orders per year show seasonal trends and peak purchasing periods, useful for inventory and marketing planning.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/monthly_return_churn_rates.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Monthly return and churn rates highlight periods of higher customer turnover, informing retention strategy timing.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/monthly_sales_revenue_by_segment.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Monthly sales revenue by segment shows which customer segments contribute most to revenue, guiding targeted efforts.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/total_monthly_sales_revenue.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Total monthly sales revenue analysis reveals overall sales performance, aiding in strategic planning and forecasting.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/total_purchase_amount_by_segment.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Total purchase amount by segment shows spending patterns, helping to identify high-value segments for special offers.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/payment_method_distribution.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>The payment method distribution analysis helps in understanding customer preferences, streamlining the checkout process.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/payment_method_gender_age.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Payment method preferences by gender and age reveal demographic-specific trends, aiding in targeted payment option promotions.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/payment_method_segment.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Payment method preferences by segment help in customizing the payment experience for different customer groups.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/product_category_distribution.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Product category distribution shows the popularity of different product categories, guiding inventory and marketing focus.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/correlation_analysis.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Correlation analysis helps in understanding relationships between different customer behavior metrics, aiding in strategic decisions.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/sales_revenue_product_category_age.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Sales revenue by product category and age shows which age groups prefer specific products, aiding in targeted marketing.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/sales_revenue_product_category_gender.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Sales revenue by product category and gender helps in understanding gender-specific preferences, guiding product offerings.</p>
          </div>
        </div>
        <div class="visualization-item">
          <iframe src="{{ url_for('static', filename='visualizations/sales_revenue_product_category_year.html') }}"></iframe>
          <div class="insight">
            <h3>Insight</h3>
            <p>Sales revenue trends by product category over the years show evolving customer preferences, aiding in strategic planning.</p>
          </div>
        </div>
      </div>
    </div>

    <div id="predict" class="predict">
      <div class="login">
        <h1>Customer Purchase Input Form</h1>
        <form action="{{ url_for('predict') }}" method="post" onsubmit="setActiveTab()">
          <input type="text" name="customer_id" placeholder="Customer ID" required="required" value="{{ request.form.get('customer_id', '') }}" />
          <input type="text" name="customer_name" placeholder="Customer Name" required="required" value="{{ request.form.get('customer_name', '') }}" />
          <input type="datetime-local" name="purchase_date" placeholder="Purchase Date" required="required" value="{{ request.form.get('purchase_date', '') }}" />
          <input type="number" name="purchase_year" placeholder="Purchase Year" required="required" value="{{ request.form.get('purchase_year', '') }}" />
          <input type="text" name="purchase_month" placeholder="Purchase Month" required="required" value="{{ request.form.get('purchase_month', '') }}" />
          <input type="text" name="product_category" placeholder="Product Category" required="required" value="{{ request.form.get('product_category', '') }}" />
          <input type="number" step="0.01" name="product_price" placeholder="Product Price" required="required" value="{{ request.form.get('product_price', '') }}" />
          <input type="number" name="quantity" placeholder="Quantity" required="required" value="{{ request.form.get('quantity', '') }}" />
          <input type="number" step="0.01" name="total_price" placeholder="Total Price" required="required" value="{{ request.form.get('total_price', '') }}" />
          <input type="text" name="payment_method" placeholder="Payment Method" required="required" value="{{ request.form.get('payment_method', '') }}" />
          <input type="number" name="returns" placeholder="Returns" value="{{ request.form.get('returns', '') }}" />
          <input type="text" name="gender" placeholder="Gender" required="required" value="{{ request.form.get('gender', '') }}" />
          <input type="number" name="customer_age" placeholder="Customer Age" required="required" value="{{ request.form.get('customer_age', '') }}" />
          <input type="number" name="churn" placeholder="Churn" required="required" value="{{ request.form.get('churn', '') }}" />
          <input type="number" name="return_quantity" placeholder="Return Quantity" required="required" value="{{ request.form.get('return_quantity', '') }}" />
          <input type="text" name="segment_tier" placeholder="Segment Tier" required="required" value="{{ request.form.get('segment_tier', '') }}" />
    
          <button type="submit" class="btn btn-primary btn-block btn-large">Submit</button>
        </form>
    
        {% if prediction_text is defined %}
          <h2>{{ "Customer Is Churned" if prediction_text == 1 else "Customer Is Not Churned" }}</h2>
        {% endif %}
      </div>
    </div>
  </div>

  <script>
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.content > div').forEach(section => {
        section.classList.remove('active');
      });

      // Show the selected section
      document.getElementById(sectionId).classList.add('active');
      // Scroll to the selected section
      document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });

      // Save the active section to localStorage
      localStorage.setItem('activeSection', sectionId);
    }

    function setActiveTab() {
      localStorage.setItem('activeSection', 'predict');
    }

    // On page load, show the section that was active before the page was reloaded
    document.addEventListener('DOMContentLoaded', function() {
      const activeSection = localStorage.getItem('activeSection') || 'about';
      showSection(activeSection);
    });
  </script>
</body>
</html>
